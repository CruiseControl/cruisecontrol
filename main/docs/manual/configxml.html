<html>
<head>
   <title>CruiseControl Installation Instructions</title>
   <style type="text/css">
      .body { background:#FFFFFF; font-family:arial,helvetica,sans-serif; color:#000000; }
      .header { font-size:12pt; font-weight:bold; }
      pre { font-family:courier,serif; background-color:#CCCCCC; border:1; }
      code { font-family:courier,serif; }
      .small { font-size:8pt; font-weight:bold; }
      .tabledata { font-size:8pt; }
      .hostedby { font-size:8pt; font-weight:bold; color:#FFFFFF; }
      .tableheader { font-size:8pt; font-weight:bold; color:#FFFFFF; background-color:#000033; }
      .table { border-width:thin; border-color:#000033; }
   </style>
</head>


<body class="body" leftmargin="0" topmargin="0">

<table width="100%" cellpadding="0" cellspacing="0">
   <tr>
      <td bgcolor="#000033"><img src="banner.gif" border="0"></td>
      <td bgcolor="#000033"><span class="hostedby">Hosted By:</span><br><a href="http://sourceforge.net"><img src="http://sourceforge.net/sflogo.php?group_id=23523&type=1" width="88" height="31" border="0" alt="SourceForge Logo"></a></td>
   <tr>
</table>

<table width="100%" cellpadding="0" cellspacing="0" border="0">
   <tr>
      <td valign="top" width="80">
         <img src="menutop.gif" border="0"><br>
         <a href="index.html"><img src="menuhome.gif" border="0"></a><br>
         <a href="news.html"><img src="menunews.gif" border="0"></a><br>
         <a href="download.html"><img src="menudownload.gif" border="0"></a><br>
         <a href="install.html"><img src="menuinstall.gif" border="0"></a><br>
         <a href="contact.html"><img src="menucontact.gif" border="0"></a><br>
         <a href="developers.html"><img src="menudevelopers.gif" border="0"></a><br>
         <a href="faq.html"><img src="menufaq.gif" border="0"></a><br>
         <img src="menubottom.gif" border="0">
      </td>
      <td valign="top" align="left" width="650">
         <table cellpadding="5" border="0" width="70%"><tr><td>
         <!-- content begins here -->

         <span class="header">CruiseControl Configuration Guide</span>
         <p>

         <ul>
            <li><a class="small" href="#project">Project</a>
            <ul>
               <li><a class="small" href="#bootstrappers">Bootstrappers</a>
                  <ul>
                     <li><a class="small" href="#currentbuildstatusbootstrapper">CurrentBuildStatusBootstrapper</a>
                     <li><a class="small" href="#cvsbootstrapper">CVSBootstrapper</a>
		      <li><a class="small" href="#vssbootstrapper">VSSBootstrapper</a>
                  </ul>
               <li><a class="small" href="#schedule">Schedule</a>
                  <ul>
                     <li><a class="small" href="#antbuilder">AntBuilder</a>
                     <li><a class="small" href="#pausebuilder">PauseBuilder</a>
                  </ul>
               <li><a class="small" href="#modificationset">ModificationSet</a>
                  <ul>
                     <li><a class="small" href="#clearcase">ClearCase</a>
                     <li><a class="small" href="#cvs">CVS</a>
                     <li><a class="small" href="#filesystem">File System</a>
                     <li><a class="small" href="#mks">MKS</a>
                     <li><a class="small" href="#p4">Perforce</a>
                     <li><a class="small" href="#pvcs">PVCS</a>
                     <li><a class="small" href="#starteam">StarTeam</a>
                     <li><a class="small" href="#vss">Visual SourceSafe</a>
                     <li><a class="small" href="#vssjournal">Visual SourceSafe, Journal File Implementation</a>
                  </ul>
               <li><a class="small" href="#log">Log</a>
                  <ul>
                     <li><a class="small" href="#merge">Merge</a>
                  </ul>
               <li><a class="small" href="#publishers">Publishers</a>
                  <ul>
                     <li><a class="small" href="#currentbuildstatuspublisher">CurrentBuildStatusPublisher</a>
                     <li><a class="small" href="#linkemailpublisher">LinkEmailPublisher</a>
                     <li><a class="small" href="#htmlemailpublisher">HTMLEmailPublisher</a></li>
                  </ul>
               <li><a class="small" href="#labelincrementers">LabelIncrementers</a>
                  <ul>
                     <li><a class="small" href="#defaultlabelincrementer">DefaultLabelIncrementer</a>
                     <li><a class="small" href="#cvslabelincrementer">CVSLabelIncrementer</a>
                  </ul>
               <li><a class="small" href="#dateformat">DateFormat</a>
               <li><a class="small" href="#plugin">Plugin</a>
            </ul>
         </ul>


<p>
<span class="small">Sample config.xml file:</span>
<table border="1" width="100%"><tr><td>
<pre>
&lt;cruisecontrol&gt;
   &lt;project name="sampleproject"&gt;
      &lt;bootstrappers&gt;
         &lt;currentbuildstatusbootstrapper file="logs/currentbuildstatus.txt"/&gt;
      &lt;/bootstrappers&gt;
      &lt;modificationset  quietperiod=""&gt;
         &lt;cvs cvsroot="" defaultbranchonly="" localworkingcopy=""
                 tag="" property="" propertyondelete=""/&gt;
      &lt;/modificationset&gt;
      &lt;schedule&gt;
         &lt;ant file="" target=""&gt;
            &lt;jvmarg arg=""/&gt;
         &lt;/ant&gt;
      &lt;/schedule&gt;
      &lt;log dir=""&gt;
         &lt;merge file=""/&gt;
         &lt;merge dir=""/&gt;
      &lt;/log&gt;
      &lt;publishers&gt;
         &lt;currentbuildstatuspublisher file="logs/currentbuildstatus.txt"/&gt;
         &lt;email mailhost="" returnaddress="" defaultsuffix=""
                   reportsuccess="" spamwhilebroken="" buildresultsurl=""&gt;
            &lt;always address=""/&gt;
            &lt;failure address=""/&gt;
            &lt;map alias="" address=""/&gt;
         &lt;/email&gt;
      &lt;/publishers&gt;
      &lt;dateformat format=""/&gt;
      &lt;plugin name="" classname=""/&gt;
   &lt;/project&gt;
&lt;/cruisecontrol&gt;
</pre>
</td></tr>
</table>

         <p><a name="project"><span class="small">Project</span><br>
         A <code>Project</code> is the basic unit of work -- it will handle checking for modifications, building, and
         publishing the results of your project.

         <table cellpadding="3" cellspacing="1" border="0">
            <tr>
               <td class="tableheader">Attribute</td>
               <td class="tableheader">Required</td>
               <td class="tableheader">Description</td>
            </tr>
            <tr>
               <td class="tabledata">name</td>
               <td class="tabledata">Yes</td>
               <td class="tabledata">Unique identifier for this project</td>
            </tr>
         </table>


         <hr>


         <p><a name="bootstrappers"><span class="small">Bootstrappers</span><br>
         <code>Bootstrapper</code>s are run before a build takes place, regardless of whether a build is necessary or
         not, but not if the build is paused. [double-check this behavior]

         <p><a name="currentbuildstatusbootstrapper"><span class="small">CurrentBuildStatusBootstrapper</span><br>
         The CruiseControl Build Results JSP will indicate whether or not CruiseControl is currently building a project.
         To get this information to the JSP, we write an HTML snippet to disk in a location where the JSP can read it.
         This file will consist of the time the build was started, so there is an optional attribute to customize the
         dateformat.
         <table cellpadding="3" cellspacing="1" border="0">
            <tr>
               <td class="tableheader">Attribute</td>
               <td class="tableheader">Required</td>
               <td class="tableheader">Description</td>
            </tr>
            <tr>
               <td class="tabledata">file</td>
               <td class="tabledata">Yes</td>
               <td class="tabledata">The filename to write</td>
            </tr>
            <tr>
               <td class="tabledata">dateformat</td>
               <td class="tabledata">No</td>
               <td class="tabledata">Optionally customize the dateformat used in this file</td>
            </tr>
         </table>

	 <p><a name="cvsbootstrapper"><span class="small">CVSBootstrapper</span><br/>
Since there is a reliance on the build.xml to handle updating the source code, there has always been a problem with what happens when the build.xml file itself changes.  Previous workarounds have included writing a wrapper build.xml that will check out the "real" build.xml.

The CVSBootstrapper will handle updating a single file from CVS before the build begins.</p>
         <table cellpadding="3" cellspacing="1" border="0">
            <tr>
               <td class="tableheader">Attribute</td>
               <td class="tableheader">Required</td>
               <td class="tableheader">Description</td>
            </tr>
            <tr>
               <td class="tabledata">cvsroot</td>
               <td class="tabledata">Yes</td>
               <td class="tabledata">The CVSROOT</td>
            </tr>
            <tr>
               <td class="tabledata">file</td>
               <td class="tabledata">Yes</td>
               <td class="tabledata">The file to update from CVS</td>
            </tr>
         </table>

	 <p><a name="vssbootstrapper"><span class="small">VSSBootstrapper</span><br/>
	Handles updating a single file from VSS before the build begins.</p>
         <table cellpadding="3" cellspacing="1" border="0">
            <tr>
               <td class="tableheader">Attribute</td>
               <td class="tableheader">Required</td>
               <td class="tableheader">Description</td>
            </tr>
            <tr>
               <td class="tabledata">vsspath</td>
               <td class="tabledata">Yes</td>
               <td class="tabledata">Fully qualified VSS path to the target file. <b>Example:</b> $/Project/subproject/filename.ext</td>
            </tr>
            <tr>
               <td class="tabledata">localdirectory</td>
               <td class="tabledata">Yes</td>
               <td class="tabledata">Fully qualified path for the destination directory. <b>Example:</b> c:\directory\subdirectory\</td>
            </tr>
            <tr>
               <td class="tabledata">login</td>
               <td class="tabledata">No</td>
               <td class="tabledata">VSS login information in the form <i>username,password</i></td>
            </tr>
         </table>

         <hr/>

         <p><a name="modificationset"><span class="small">ModificationSet</span><br/>
	 Set of modifications collected from all included SourceControl elements</p>
         <table cellpadding="3" cellspacing="1" border="0">
            <tr>
               <td class="tableheader">Attribute</td>
               <td class="tableheader">Required</td>
               <td class="tableheader">Description</td>
            </tr>
            <tr>
               <td class="tabledata">quietperiod</td>
               <td class="tabledata">Yes</td>
               <td class="tabledata">The amount of time in which there is no source control activity after which it is assumed that it is safe to update from the source control system and initiate a build</td>
            </tr>
            <tr>
               <td class="tabledata">dateformat</td>
               <td class="tabledata">Yes</td>
               <td class="tabledata">Pattern describing date and time format; See java.text.SimpleDateFormat for examples</td>
            </tr>
         </table>

         <p><a name="clearcase"><span class="small">ClearCase</span></p>
         <table cellpadding="3" cellspacing="1" border="0">
            <tr>
               <td class="tableheader">Attribute</td>
               <td class="tableheader">Required</td>
               <td class="tableheader">Description</td>
            </tr>
            <tr>
               <td class="tabledata">branch</td>
               <td class="tabledata">Yes</td>
               <td class="tabledata">The ClearCase branch</td>
            </tr>
            <tr>
               <td class="tabledata">recursive</td>
               <td class="tabledata">No</td>
               <td class="tabledata">Whether to check sub-folders in the viewpath; defaults to true</td>
            </tr>
            <tr>
               <td class="tabledata">viewpath</td>
               <td class="tabledata">Yes</td>
               <td class="tabledata">Local working copy to use when making queries</td>
            </tr>
         </table>

         <p><a name="cvs"><span class="small">CVS</span></p>
         <table cellpadding="3" cellspacing="1" border="0">
            <tr>
               <td class="tableheader">Attribute</td>
               <td class="tableheader">Required</td>
               <td class="tableheader">Description</td>
            </tr>
            <tr>
               <td class="tabledata">cvsroot</td>
               <td class="tabledata">Yes</td>
               <td class="tabledata">cvsroot that would be appropriate for the following command: <i>cvs -d CVSROOT -q log -N -d "&gt;lastbuildtime"</i></td>
            </tr>
            <tr>
               <td class="tabledata">defaultbranchonly</td>
               <td class="tabledata">No</td>
               <td class="tabledata">Whether or not to check on the default branch only; defaults to false</td>
            </tr>
            <tr>
               <td class="tabledata">localworkingcopy</td>
               <td class="tabledata">Yes</td>
               <td class="tabledata">Relative or absolute path to the local working copy</td>
            </tr>
            <tr>
               <td class="tabledata">tag</td>
               <td class="tabledata">No</td>
               <td class="tabledata">Set the cvs tag.  Note this should work with names, numbers, and anything else you can put on <i>log -rTAG</i></td>
            </tr>
            <tr>
               <td class="tabledata">property</td>
               <td class="tabledata">No</td>
               <td class="tabledata">
                  Set this property if a modification has occurred.  For use in conditionally
                  controlling the build later.
               </td>
            </tr>
            <tr>
               <td class="tabledata">propertyondelete</td>
               <td class="tabledata">No</td>
               <td class="tabledata">
                  Set this property if a file has been deleted.  For use in conditionally
                  controlling the build later.
               </td>
            </tr>
         </table>

         <p><a name="filesystem"><span class="small">FileSystem</span></p>
         <table cellpadding="3" cellspacing="1" border="0">
            <tr>
               <td class="tableheader">Attribute</td>
               <td class="tableheader">Required</td>
               <td class="tableheader">Description</td>
            </tr>
            <tr>
               <td class="tabledata">folder</td>
               <td class="tabledata">Yes</td>
               <td class="tabledata">Root folder of the directories to scan</td>
            </tr>
            <tr>
               <td class="tabledata">property</td>
               <td class="tabledata">No</td>
               <td class="tabledata">
                  Set this property if a modification has occurred.  For use in conditionally
                  controlling the build later.
               </td>
            </tr>
         </table>

         <p><a name="mks"><span class="small">MKS</span></p>
         <table cellpadding="3" cellspacing="1" border="0">
            <tr>
               <td class="tableheader">Attribute</td>
               <td class="tableheader">Required</td>
               <td class="tableheader">Description</td>
            </tr>
            <tr>
               <td class="tabledata">localworkingcopy</td>
               <td class="tabledata">No?</td>
               <td class="tabledata">Path to the local working copy</td>
            </tr>
            <tr>
               <td class="tabledata">mksroot</td>
               <td class="tabledata">Yes</td>
               <td class="tabledata">Set MKSROOT</td>
            </tr>
            <tr>
               <td class="tabledata">property</td>
               <td class="tabledata">No</td>
               <td class="tabledata">
                  Set this property if a modification has occurred.  For use in conditionally
                  controlling the build later.
               </td>
            </tr>
            <tr>
               <td class="tabledata">propertyondelete</td>
               <td class="tabledata">No</td>
               <td class="tabledata">
                  Set this property if a file has been deleted.  For use in conditionally
                  controlling the build later.
               </td>
            </tr>
         </table>

         <p><a name="p4"><span class="small">Perforce</span></p>
         <table cellpadding="3" cellspacing="1" border="0">
            <tr>
               <td class="tableheader">Attribute</td>
               <td class="tableheader">Required</td>
               <td class="tableheader">Description</td>
            </tr>
            <tr>
               <td class="tabledata">port</td>
               <td class="tabledata">Yes</td>
               <td class="tabledata"></td>
            </tr>
            <tr>
               <td class="tabledata">client</td>
               <td class="tabledata">Yes</td>
               <td class="tabledata"></td>
            </tr>
            <tr>
               <td class="tabledata">user</td>
               <td class="tabledata">Yes</td>
               <td class="tabledata"></td>
            </tr>
            <tr>
               <td class="tabledata">view</td>
               <td class="tabledata">Yes</td>
               <td class="tabledata"></td>
            </tr>
         </table>

         <p><a name="pvcs"><span class="small">PVCS</span></p>
         <table cellpadding="3" cellspacing="1" border="0">
            <tr>
               <td class="tableheader">Attribute</td>
               <td class="tableheader">Required</td>
               <td class="tableheader">Description</td>
            </tr>
            <tr>
               <td class="tabledata">pvcsproject</td>
               <td class="tabledata">Yes</td>
               <td class="tabledata"></td>
            </tr>
            <tr>
               <td class="tabledata">pvcssubproject</td>
               <td class="tabledata">Yes</td>
               <td class="tabledata"></td>
            </tr>
         </table>

         <p><a name="starteam"><span class="small">StarTeam</span></p>
         <table cellpadding="3" cellspacing="1" border="0">
            <tr>
               <td class="tableheader">Attribute</td>
               <td class="tableheader">Required</td>
               <td class="tableheader">Description</td>
            </tr>
            <tr>
               <td class="tabledata">folder</td>
               <td class="tabledata">Yes</td>
               <td class="tabledata">The repository folder</td>
            </tr>
            <tr>
               <td class="tabledata">password</td>
               <td class="tabledata">Yes</td>
               <td class="tabledata">Password for the StarTeam user</td>
            </tr>
            <tr>
               <td class="tabledata">starteamurl</td>
               <td class="tabledata">Yes</td>
               <td class="tabledata"></td>
            </tr>
            <tr>
               <td class="tabledata">username</td>
               <td class="tabledata">Yes</td>
               <td class="tabledata">StarTeam user name</td>
            </tr>
            <tr>
               <td class="tabledata">property</td>
               <td class="tabledata">No</td>
               <td class="tabledata">
                  Set this property if a modification has occurred.  For use in conditionally
                  controlling the build later.
               </td>
            </tr>
            <tr>
               <td class="tabledata">propertyondelete</td>
               <td class="tabledata">No</td>
               <td class="tabledata">
                  Set this property if a file has been deleted.  For use in conditionally
                  controlling the build later.
               </td>
            </tr>
         </table>

         <p><a name="vss"><span class="small">Visual Source Safe</span></p>
         <table cellpadding="3" cellspacing="1" border="0">
            <tr>
               <td class="tableheader">Attribute</td>
               <td class="tableheader">Required</td>
               <td class="tableheader">Description</td>
            </tr>
            <tr>
               <td class="tabledata">dateformat</td>
               <td class="tabledata">No</td>
               <td class="tabledata">The date format to use for querying VSS and processing reports; default is <i>MM/dd/yy</i>.  If your computer is set to a different region, you may wish to use a format such as <i>dd/MM/yy</i>.</td>
            </tr>
            <tr>
               <td class="tabledata">login</td>
               <td class="tabledata">Yes</td>
               <td class="tabledata">The VSS login</td>
            </tr>
            <tr>
               <td class="tabledata">ssdir</td>
               <td class="tabledata">Yes</td>
               <td class="tabledata">The VSS project to get history from</td>
            </tr>
            <tr>
               <td class="tabledata">property</td>
               <td class="tabledata">No</td>
               <td class="tabledata">
                  Set this property if a modification has occurred.  For use in conditionally
                  controlling the build later.
               </td>
            </tr>
            <tr>
               <td class="tabledata">propertyondelete</td>
               <td class="tabledata">No</td>
               <td class="tabledata">
                  Set this property if a file has been deleted.  For use in conditionally
                  controlling the build later.
               </td>
            </tr>
         </table>

         <p><a name="vssjournal"><span class="small">Visual Source Safe, Journal File Implementation</span></p>
         <table cellpadding="3" cellspacing="1" border="0">
            <tr>
               <td class="tableheader">Attribute</td>
               <td class="tableheader">Required</td>
               <td class="tableheader">Description</td>
            </tr>
            <tr>
               <td class="tabledata">journalfile</td>
               <td class="tabledata">Yes</td>
               <td class="tabledata">Full path to journal file.  Example: <i>c:/vssdata/journal/journal.txt</i></td>
            </tr>
            <tr>
               <td class="tabledata">ssdir</td>
               <td class="tabledata">Yes</td>
               <td class="tabledata">The VSS project to get history from</td>
            </tr>
            <tr>
               <td class="tabledata">property</td>
               <td class="tabledata">No</td>
               <td class="tabledata">
                  Set this property if a modification has occurred.  For use in conditionally
                  controlling the build later.
               </td>
            </tr>
            <tr>
               <td class="tabledata">propertyondelete</td>
               <td class="tabledata">No</td>
               <td class="tabledata">
                  Set this property if a file has been deleted.  For use in conditionally
                  controlling the build later.
               </td>
            </tr>
         </table>

         <hr/>

         <p><a name="schedule"><span class="small">Schedule</span><br>
         CruiseControl allows the user to schedule <i>n</i> different builds, either on interval or triggered to
         run at a given date/time.
         <table cellpadding="3" cellspacing="1" border="0">
            <tr>
               <td class="tableheader">Attribute</td>
               <td class="tableheader">Required</td>
               <td class="tableheader">Description</td>
            </tr>
            <tr>
               <td class="tabledata">interval</td>
               <td class="tabledata">Yes</td>
               <td class="tabledata">Interval period in milliseconds</td>
            </tr>
            <tr>
               <td class="tabledata">intervaltype</td>
               <td class="tabledata"></td>
               <td class="tabledata"></td>
            </tr>
         </table>

         <p><a name="antbuilder"><span class="small">AntBuilder</span><br/>
	  Specify an Ant build to be run at a given time or build number.  For instance, we can run a clean build
         every 5 builds, or run more comprehensive (and time intensive) system tests every 10 builds.  We can also
         schedule an official build to run every night at midnight, if we so desire.  AntBuilder runs Ant in as a
         separate Java process and you can specify settings for the virtual machine using the nested jvmarg element.</p>

	<p><b>Note:</b> Only the first ant entry for a particular interval will be run.  Any subsequent duplicate entries are ignored.</p>
         <table cellpadding="3" cellspacing="1" border="0">
            <tr>
               <td class="tableheader">Attribute</td>
               <td class="tableheader">Required</td>
               <td class="tableheader">Description</td>
            </tr>
            <tr>
               <td class="tabledata">buildfile</td>
               <td class="tabledata">Yes</td>
               <td class="tabledata">Path to Ant build file</td>
            </tr>
            <tr>
               <td class="tabledata">target</td>
               <td class="tabledata">Yes</td>
               <td class="tabledata">Ant target to run</td>
            </tr>
            <tr>
               <td class="tabledata">multiple</td>
               <td class="tabledata" rowspan="2">One of These</td>
               <td class="tabledata">Build index used to run different builders.  For example, if this is set to 3, the builder will be run every 3 builds.</td>
            </tr>
            <tr>
               <td class="tabledata">time</td>
               <td class="tabledata">Time in the form HHmm</td>
            </tr>
            <tr>
               <td class="tabledata">day</td>
               <td class="tabledata">No</td>
               <td class="tabledata">Integer value of day when builds should take place.  Sunday = 1.  Does not support multiple days except for the default of every day.</td>
            </tr>
         </table>

         <p><a name="pausebuilder"><span class="small">PauseBuilder</span><br>
         It may be necessary for CruiseControl to halt executing in some circumstances.  A disk backup could lock the
         source control repository, causing CruiseControl to return errors.  Rather than deal with these errors all the
         time, we can specify a time period for CruiseControl to not attempt any builds.
         <table cellpadding="3" cellspacing="1" border="0">
            <tr>
               <td class="tableheader">Attribute</td>
               <td class="tableheader">Required</td>
               <td class="tableheader">Description</td>
            </tr>
            <tr>
               <td class="tabledata">day</td>
               <td class="tabledata">No</td>
               <td class="tabledata">Integer value of day when the pause should take place.  Sunday = 1.  Does not support multiple days except for the default of every day.</td>
            </tr>
            <tr>
               <td class="tabledata">starttime</td>
               <td class="tabledata">Yes</td>
               <td class="tabledata">Start of the pause in HHmm format</td>
            </tr>
            <tr>
               <td class="tabledata">endtime</td>
               <td class="tabledata">Yes</td>
               <td class="tabledata">End of the pause in HHmm format</td>
            </tr>
         </table>

         <hr/>

         <p><a name="log"><span class="small">Log</span><br>
         [about log]
         <table cellpadding="3" cellspacing="1" border="0">
            <tr>
               <td class="tableheader">Attribute</td>
               <td class="tableheader">Required</td>
               <td class="tableheader">Description</td>
            </tr>
            <tr>
               <td class="tabledata">dir</td>
               <td class="tabledata">Yes</td>
               <td class="tabledata">The cruisecontrol log directory</td>
            </tr>
            <tr>
               <td class="tabledata">encoding</td>
               <td class="tabledata">Yes</td>
               <td class="tabledata">Encoding for XML log files</td>
            </tr>
         </table>


         <p><a name="merge"><span class="small">Merge</span><br>
         After the build is complete, there may be other xml artifacts to merge into the cruisecontrol log.  The most
         common of these is the junit test results that the Ant &lt;junit&gt; task creates.  We can add a merge entry for
         these files so that we have one comprehensive log at the end of a cruisecontrol build.
         <table cellpadding="3" cellspacing="1" border="0">
            <tr>
               <td class="tableheader">Attribute</td>
               <td class="tableheader">Required</td>
               <td class="tableheader">Description</td>
            </tr>
            <tr>
               <td class="tabledata">file</td>
               <td rowspan="2" class="tabledata">One of These</td>
               <td class="tabledata">&nbsp;</td>
            </tr>
            <tr>
               <td class="tabledata">dir</td>
               <td class="tabledata">&nbsp;</td>
            </tr>
         </table>

         <hr>

         <p><a name="publishers"><span class="small">Publishers</span><br>
         <code>Publisher</code>s are run after a build has completed.  They will be run regardless of whether the build
         was successful or not.

         <p><a name="currentbuildstatuspublisher"><span class="small">CurrentBuildStatusPublisher</span><br>
         The CruiseControl Build Results JSP will indicate whether or not CruiseControl is currently building a project.
         To get this information to the JSP, we write an HTML snippet to disk in a location where the JSP can read it.
         This file will consist of the time the next build attempt will take place, so there is an optional attribute to
         customize the dateformat.
         <table cellpadding="3" cellspacing="1" border="0">
            <tr>
               <td class="tableheader">Attribute</td>
               <td class="tableheader">Required</td>
               <td class="tableheader">Description</td>
            </tr>
            <tr>
               <td class="tabledata">file</td>
               <td class="tabledata">Yes</td>
               <td class="tabledata">The filename to write</td>
            </tr>
            <tr>
               <td class="tabledata">dateformat</td>
               <td class="tabledata">No</td>
               <td class="tabledata">Optionally customize the dateformat used in this file</td>
            </tr>
         </table>

         <p><a name="linkemailpublisher"><span class="small">LinkEmailPublisher</span><br/>
	 Publisher that sends an email with a URL to the build results JSP.</p>
         <table cellpadding="3" cellspacing="1" border="0">
            <tr>
               <td class="tableheader">Attribute</td>
               <td class="tableheader">Required</td>
               <td class="tableheader">Description</td>
            </tr>
            <tr>
               <td class="tabledata">buildresultsurl</td>
               <td class="tabledata">Yes</td>
               <td class="tabledata">URL to the build results JSP</td>
            </tr>
            <tr>
               <td class="tabledata">defaultsuffix</td>
               <td class="tabledata">No</td>
               <td class="tabledata">Default e-mail suffix to append to user names to build valid e-mail addresses.  This defaults to an empty string if not specified.</td>
            </tr>
            <tr>
               <td class="tabledata">mailhost</td>
               <td class="tabledata">Yes</td>
               <td class="tabledata">Mail server address</td>
            </tr>
            <tr>
               <td class="tabledata">reportsuccess</td>
               <td class="tabledata">No</td>
               <td class="tabledata">Valid values are <i>success</i>, <i>fixes</i>, and <i>never</i>.  <i>success</i> publishes (<i>i.e.</i>, e-mails) results on every successful build.  <i>fixes</i> publishes results only on the first successful build and the first successful build after a failed build.  <i>fixes</i> does not publish on subsequent successful builds.  <i>never</i> only publishes on failed builds.  Default value is <i>always</i>.</td>
            </tr>
            <tr>
               <td class="tabledata">returnaddress</td>
               <td class="tabledata">Yes</td>
               <td class="tabledata">E-mail address that will appear in the sent email's From field</td>
            </tr>
            <tr>
               <td class="tabledata">spamwhilebroken</td>
               <td class="tabledata">No</td>
               <td class="tabledata">Whether or not e-mail reports on failed builds will continue for subsequent failed builds.  Default value is true.</td>
            </tr>
         </table>

         <p><a name="htmlemailpublisher"><span class="small">HTMLEmailPublisher</span><br/>
         Publisher that sends an email with the build results embedded.</p>
         <table cellpadding="3" cellspacing="1" border="0">
            <tr>
               <td class="tableheader">Attribute</td>
               <td class="tableheader">Required</td>
               <td class="tableheader">Description</td>
            </tr>
            <tr>
               <td class="tabledata">buildresultsurl</td>
               <td class="tabledata">Yes</td>
               <td class="tabledata">URL to the build results JSP</td>
            </tr>
            <tr>
               <td class="tabledata">defaultsuffix</td>
               <td class="tabledata">No</td>
               <td class="tabledata">Default e-mail suffix to append to user names to build valid e-mail addresses.  This defaults to an empty string if not specified.</td>
            </tr>
            <tr>
               <td class="tabledata">mailhost</td>
               <td class="tabledata">Yes</td>
               <td class="tabledata">Mail server address</td>
            </tr>
            <tr>
               <td class="tabledata">reportsuccess</td>
               <td class="tabledata">No</td>
               <td class="tabledata">Valid values are <i>success</i>, <i>fixes</i>, and <i>never</i>.  <i>success</i> publishes (<i>i.e.</i>, e-mails) results on every successful build.  <i>fixes</i> publishes results only on the first successful build and the first successful build after a failed build.  <i>fixes</i> does not publish on subsequent successful builds.  <i>never</i> only publishes on failed builds.  Default value is <i>always</i>.</td>
            </tr>
            <tr>
               <td class="tabledata">returnaddress</td>
               <td class="tabledata">Yes</td>
               <td class="tabledata">E-mail address that will appear in the sent email's From field</td>
            </tr>
            <tr>
               <td class="tabledata">spamwhilebroken</td>
               <td class="tabledata">No</td>
               <td class="tabledata">Whether or not e-mail reports on failed builds will continue for subsequent failed builds.  Default value is true.</td>
            </tr>
            <tr>
               <td class="tabledata">css</td>
               <td class="tabledata">Yes</td>
               <td class="tabledata">Path to cruisecontrol.css.  Used only if xsldir set and not xslfile.</td>
            </tr>
            <tr>
               <td class="tabledata">logdir</td>
               <td class="tabledata">Yes</td>
               <td class="tabledata">Path to the log file as set in the log element of the configuration xml file.</td>
            </tr>
            <tr>
               <td class="tabledata">xsldir</td>
               <td class="tabledata">Yes</td>
               <td class="tabledata">Directory where standard CruiseControl xsl files are located.</td>
            </tr>
            <tr>
               <td class="tabledata">xslfile</td>
               <td class="tabledata">No</td>
               <td class="tabledata">If specified, both xsldir and css are ignored.  Must handle the entire document.</td>
            </tr>
         </table>

         <p><span class="small">always/failure</span><br/>
	 All forms of the EmailPublisher allow both always and failure sub-elements.  These identify e-mail addresses that should always be sent mail or sent mail only on failed builds.</p>
         <table cellpadding="3" cellspacing="1" border="0">
            <tr>
               <td class="tableheader">Attribute</td>
               <td class="tableheader">Required</td>
               <td class="tableheader">Description</td>
            </tr>
            <tr>
               <td class="tabledata">address</td>
               <td class="tabledata">Yes</td>
               <td class="tabledata">e-mail address</td>
            </tr>
         </table>

         <hr>

         <p><a name="labelincrementers"><span class="small">Label Incrementers</span><br>
         [stuff] - no configuration necessary, just register plugin

         <p><a name="defaultlabelincrementer"><span class="small">DefaultLabelIncrementer</span><br>
         [example of plugin code]<p>

         <p><a name="cvslabelincrementer"><span class="small">CVSLabelIncrementer</span><br>
         [example of plugin code]<p>

         <hr>


         <p><a name="dateformat"><span class="small">Date Format</span><br>
         An optional <code>&lt;dateformat&gt;</code> element overrides the default date format for presentation.
         <p>
         <table cellpadding="3" cellspacing="1" border="0">
            <tr>
               <td class="tableheader">Attribute</td>
               <td class="tableheader">Required</td>
               <td class="tableheader">Description</td>
            </tr>
            <tr>
               <td class="tabledata">format</td>
               <td class="tabledata">Yes</td>
               <td class="tabledata">A DateFormat String that specifies the date format for presentation.  Defaults to MM/dd/yyyy HH:mm:ss</td>
            </tr>
         </table>

         <hr>

         <p><a name="plugin"><span class="small">Plugin</span><br>
         A <code>&lt;plugin&gt;</code> element registers a classname with an alias for use within this project.
         <p>
         <table cellpadding="3" cellspacing="1" border="0">
            <tr>
               <td class="tableheader">Attribute</td>
               <td class="tableheader">Required</td>
               <td class="tableheader">Description</td>
            </tr>
            <tr>
               <td class="tabledata">name</td>
               <td class="tabledata">Yes</td>
               <td class="tabledata">&nbsp;</td>
            </tr>
            <tr>
               <td class="tabledata">classname</td>
               <td class="tabledata">Yes</td>
               <td class="tabledata">&nbsp;</td>
            </tr>
         </table>




         <!-- content ends here -->
         </td></tr></table>
      </td>
   </tr>
</table>
</body>
</html>

