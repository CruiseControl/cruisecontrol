<cruisecontrol>
    <!-- Load environment variables -->
    <property environment="env" toupper="true"/>

    <!-- Preconfigure our Ant plugin so unit tests using it can find java if not on path -->
    <plugin name="ant"
        anthome="${env.ANT_HOME}"
        buildfile="test/testdist.build.xml"
        uselogger="true"
        >
        <property name="testPreConfChildNew" value="testPreConfAntChildNewValue"/>
        <property name="testChild" value="testChildValuePre"/>
    </plugin>

    <plugin name="distributed"
        classname="net.sourceforge.cruisecontrol.builders.DistributedMasterBuilder"
        entries="build.type=test"
    />

    <project name="testproject">
        <schedule>
            <distributed module="testmodule-fail">
                <ant target="testtargetFail"/>
            </distributed>

            <distributed module="testmodule-success">
                <ant target="testtargetSuccess"/>
            </distributed>
        </schedule>
    </project>

    <!-- used in tests of PreConfigured plugin settings -->
    <project name="testproject2">
        <schedule>
            <distributed module="testmodule-attribs"
                agentlogdir="agent/log"
                masterlogdir="master/log"
                >
                <ant target="testtargetSuccess">
                    <property name="childInline" value="childInlineValue"/>
                    <property name="testChild" value="testChildValueInline"/>
                </ant>                    
            </distributed>
        </schedule>
    </project>

    <!-- used in tests of default module name value and day schedule -->
    <project name="testprojectNoModule">
        <schedule>
            <!-- Must NOT have a "module" attribute for this unit test. -->
            <distributed
                agentlogdir="agent/log"
                masterlogdir="master/log"
                >
                <ant target="testtargetSuccess" day="7"/>
            </distributed>
        </schedule>
    </project>
    <!-- used in tests of time schedule -->
    <project name="testprojectTime">
        <schedule>
            <distributed
                agentlogdir="agent/log"
                masterlogdir="master/log"
                >
                <ant target="testtargetSuccess" time="0530"/>
            </distributed>
        </schedule>
    </project>
    <!-- used in tests of Multiple schedule -->
    <project name="testprojectMultiple">
        <schedule>
            <distributed
                agentlogdir="agent/log"
                masterlogdir="master/log"
                >
                <ant target="testtargetSuccess" multiple="2"/>
            </distributed>
        </schedule>
    </project>
</cruisecontrol>